class s{constructor(e={}){this.id=e.id||null,this.contractNumber=e.contractNumber||"",this.name=e.name||"",this.type=e.type||"standard",this.companyId=e.companyId||null,this.companyName=e.companyName||"",this.status=e.status||"draft",this.startDate=e.startDate||null,this.endDate=e.endDate||null,this.autoRenew=e.autoRenew||!1,this.renewalPeriod=e.renewalPeriod||12,this.renewalNotice=e.renewalNotice||30,this.totalValue=e.totalValue||0,this.minimumCommitment=e.minimumCommitment||0,this.paymentTerms=e.paymentTerms||"Net 30",this.currency=e.currency||"USD",this.priceListId=e.priceListId||null,this.discountPercent=e.discountPercent||0,this.volumeDiscount=e.volumeDiscount||!1,this.volumeTiers=e.volumeTiers||[],this.creditLimit=e.creditLimit||0,this.paymentSchedule=e.paymentSchedule||"per_order",this.includedProducts=e.includedProducts||[],this.excludedProducts=e.excludedProducts||[],this.serviceLevel=e.serviceLevel||"standard",this.shippingTerms=e.shippingTerms||"FOB",this.deliverySchedule=e.deliverySchedule||"",this.allowBackorders=e.allowBackorders||!0,this.minOrderQty=e.minOrderQty||0,this.maxOrderQty=e.maxOrderQty||null,this.termsAndConditions=e.termsAndConditions||"",this.slaTerms=e.slaTerms||"",this.confidentialityClause=e.confidentialityClause||"",this.terminationClause=e.terminationClause||"",this.penaltyClause=e.penaltyClause||"",this.customerSignatory=e.customerSignatory||null,this.customerSignedDate=e.customerSignedDate||null,this.vendorSignatory=e.vendorSignatory||null,this.vendorSignedDate=e.vendorSignedDate||null,this.accountManagerId=e.accountManagerId||null,this.accountManagerName=e.accountManagerName||"",this.ordersPlaced=e.ordersPlaced||0,this.totalSpent=e.totalSpent||0,this.lastOrderDate=e.lastOrderDate||null,this.requiresApproval=e.requiresApproval||!0,this.approvalStatus=e.approvalStatus||"pending",this.approvedBy=e.approvedBy||[],this.approvedAt=e.approvedAt||null,this.attachments=e.attachments||[],this.notes=e.notes||"",this.tags=e.tags||[],this.customFields=e.customFields||{},this.createdAt=e.createdAt||null,this.updatedAt=e.updatedAt||null,this.createdBy=e.createdBy||null}get isActive(){if(this.status!=="active")return!1;const e=new Date;return!(this.startDate&&new Date(this.startDate)>e||this.endDate&&new Date(this.endDate)<e)}get isExpiringSoon(){if(!this.endDate||this.status!=="active")return!1;const e=new Date,t=new Date(this.endDate);return Math.ceil((t-e)/(1e3*60*60*24))<=this.renewalNotice}get remainingCommitment(){return Math.max(0,this.minimumCommitment-this.totalSpent)}get commitmentProgress(){return this.minimumCommitment===0?100:Math.min(100,this.totalSpent/this.minimumCommitment*100)}get isSigned(){return this.customerSignedDate!==null&&this.vendorSignedDate!==null}canPlaceOrder(e){return!(!this.isActive||this.minOrderQty&&e<this.minOrderQty||this.maxOrderQty&&e>this.maxOrderQty)}getVolumeDiscount(e){if(!this.volumeDiscount||!this.volumeTiers.length)return 0;const t=this.volumeTiers.filter(i=>e>=i.minQty).sort((i,n)=>n.minQty-i.minQty)[0];return t?t.discount:0}validate(){const e=[];return(!this.name||this.name.trim()==="")&&e.push("Contract name is required"),this.companyId||e.push("Company is required"),this.startDate||e.push("Start date is required"),this.endDate||e.push("End date is required"),this.startDate&&this.endDate&&new Date(this.startDate)>=new Date(this.endDate)&&e.push("End date must be after start date"),this.totalValue<0&&e.push("Total value cannot be negative"),{isValid:e.length===0,errors:e}}toJSON(){return{...this}}static fromAPI(e){return new s(e)}}export{s as C};
