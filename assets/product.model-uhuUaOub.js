class t{constructor(i={}){this.id=i.id||null,this.sku=i.sku||"",this.name=i.name||"",this.slug=i.slug||"",this.description=i.description||"",this.shortDescription=i.shortDescription||"",this.price=i.price||0,this.compareAtPrice=i.compareAtPrice||0,this.cost=i.cost||0,this.currency=i.currency||"USD",this.taxable=i.taxable!==void 0?i.taxable:!0,this.taxRate=i.taxRate||0,this.trackInventory=i.trackInventory!==void 0?i.trackInventory:!0,this.stock=i.stock||0,this.lowStockThreshold=i.lowStockThreshold||10,this.allowBackorder=i.allowBackorder||!1,this.category=i.category||"",this.subcategory=i.subcategory||"",this.tags=i.tags||[],this.brand=i.brand||"",this.images=i.images||[],this.featuredImage=i.featuredImage||"",this.videos=i.videos||[],this.hasVariants=i.hasVariants||!1,this.variants=i.variants||[],this.options=i.options||[],this.weight=i.weight||0,this.weightUnit=i.weightUnit||"kg",this.dimensions=i.dimensions||{length:0,width:0,height:0},this.dimensionUnit=i.dimensionUnit||"cm",this.requiresShipping=i.requiresShipping!==void 0?i.requiresShipping:!0,this.shippingClass=i.shippingClass||"standard",this.metaTitle=i.metaTitle||"",this.metaDescription=i.metaDescription||"",this.metaKeywords=i.metaKeywords||[],this.status=i.status||"draft",this.visibility=i.visibility||"visible",this.featured=i.featured||!1,this.createdAt=i.createdAt||new Date().toISOString(),this.updatedAt=i.updatedAt||new Date().toISOString(),this.publishedAt=i.publishedAt||null}validate(){const i=[];return(!this.name||this.name.trim()==="")&&i.push("Product name is required"),(!this.sku||this.sku.trim()==="")&&i.push("SKU is required"),this.price<0&&i.push("Price cannot be negative"),this.trackInventory&&this.stock<0&&i.push("Stock cannot be negative"),this.requiresShipping&&this.weight<=0&&i.push("Weight is required for shippable products"),{isValid:i.length===0,errors:i}}isInStock(){return this.trackInventory?this.stock>0||this.allowBackorder:!0}isLowStock(){return this.trackInventory?this.stock<=this.lowStockThreshold&&this.stock>0:!1}getDiscountPercentage(){return!this.compareAtPrice||this.compareAtPrice<=this.price?0:Math.round((this.compareAtPrice-this.price)/this.compareAtPrice*100)}getProfitMargin(){return this.cost===0?0:(this.price-this.cost)/this.price*100}getPriceWithTax(){return this.taxable?this.price*(1+this.taxRate/100):this.price}generateSlug(){return this.slug=this.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),this.slug}toJSON(){return{id:this.id,sku:this.sku,name:this.name,slug:this.slug,description:this.description,shortDescription:this.shortDescription,price:this.price,compareAtPrice:this.compareAtPrice,cost:this.cost,currency:this.currency,taxable:this.taxable,taxRate:this.taxRate,trackInventory:this.trackInventory,stock:this.stock,lowStockThreshold:this.lowStockThreshold,allowBackorder:this.allowBackorder,category:this.category,subcategory:this.subcategory,tags:this.tags,brand:this.brand,images:this.images,featuredImage:this.featuredImage,videos:this.videos,hasVariants:this.hasVariants,variants:this.variants,options:this.options,weight:this.weight,weightUnit:this.weightUnit,dimensions:this.dimensions,dimensionUnit:this.dimensionUnit,requiresShipping:this.requiresShipping,shippingClass:this.shippingClass,metaTitle:this.metaTitle,metaDescription:this.metaDescription,metaKeywords:this.metaKeywords,status:this.status,visibility:this.visibility,featured:this.featured,createdAt:this.createdAt,updatedAt:this.updatedAt,publishedAt:this.publishedAt}}static fromAPI(i){return new t(i)}}export{t as P};
