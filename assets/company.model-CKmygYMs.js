class e{constructor(t={}){this.id=t.id||null,this.name=t.name||"",this.legalName=t.legalName||"",this.taxId=t.taxId||"",this.companyType=t.companyType||"business",this.partnerType=t.partnerType||"customer",this.industry=t.industry||"",this.website=t.website||"",this.status=t.status||"pending",this.accountNumber=t.accountNumber||"",this.parentCompanyId=t.parentCompanyId||null,this.primaryContact=t.primaryContact||{name:"",email:"",phone:"",title:""},this.billingAddress=t.billingAddress||{street1:"",street2:"",city:"",state:"",postalCode:"",country:""},this.shippingAddresses=t.shippingAddresses||[],this.creditLimit=t.creditLimit||0,this.creditUsed=t.creditUsed||0,this.paymentTerms=t.paymentTerms||"Net 30",this.priceListId=t.priceListId||null,this.discountPercent=t.discountPercent||0,this.taxExempt=t.taxExempt||!1,this.taxExemptId=t.taxExemptId||"",this.accountManagerId=t.accountManagerId||null,this.accountManagerName=t.accountManagerName||"",this.requiresApproval=t.requiresApproval||!1,this.approvalLimit=t.approvalLimit||0,this.allowBackorders=t.allowBackorders||!0,this.minimumOrderAmount=t.minimumOrderAmount||0,this.maximumOrderAmount=t.maximumOrderAmount||null,this.tier=t.tier||"basic",this.settings=t.settings||{allowSelfRegistration:!1,requireMFA:!1,sessionTimeout:3600},this.customCatalog=t.customCatalog||!1,this.customCatalogId=t.customCatalogId||null,this.allowedPaymentMethods=t.allowedPaymentMethods||["invoice","credit_card","purchase_order"],this.allowedShippingMethods=t.allowedShippingMethods||[],this.contractStartDate=t.contractStartDate||null,this.contractEndDate=t.contractEndDate||null,this.contractTerms=t.contractTerms||"",this.notes=t.notes||"",this.tags=t.tags||[],this.customFields=t.customFields||{},this.createdAt=t.createdAt||null,this.updatedAt=t.updatedAt||null,this.createdBy=t.createdBy||null}get availableCredit(){return this.creditLimit-this.creditUsed}get isActive(){return this.status==="active"}get hasChildAccounts(){return this.parentCompanyId===null}canPlaceOrder(t){return!(!this.isActive||this.minimumOrderAmount&&t<this.minimumOrderAmount||this.maximumOrderAmount&&t>this.maximumOrderAmount||this.paymentTerms!=="Prepaid"&&this.paymentTerms!=="COD"&&t>this.availableCredit)}validate(){const t=[];return(!this.name||this.name.trim()==="")&&t.push("Company name is required"),(!this.primaryContact.email||!this.isValidEmail(this.primaryContact.email))&&t.push("Valid primary contact email is required"),this.creditLimit<0&&t.push("Credit limit cannot be negative"),(this.discountPercent<0||this.discountPercent>100)&&t.push("Discount percent must be between 0 and 100"),{isValid:t.length===0,errors:t}}isValidEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}toJSON(){return{...this}}static fromAPI(t){return new e(t)}}export{e as C};
